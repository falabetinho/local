define(["jquery"],function(d){function a(e,n,t){var a=e.hasClass("show"),n=(a?(e.removeClass("show"),n.removeClass("fa-chevron-down").addClass("fa-chevron-right"),t.attr("aria-expanded","false"),t.find(".node-icon i").removeClass("fa-folder-open").addClass("fa-folder")):(e.addClass("show"),n.removeClass("fa-chevron-right").addClass("fa-chevron-down"),t.attr("aria-expanded","true"),t.find(".node-icon i").removeClass("fa-folder").addClass("fa-folder-open")),a?"fluent:node:collapsed":"fluent:node:expanded");e.trigger(n)}function n(){d(".node-children").each(function(){var e=d(this),n=d('[data-bs-target="#'+e.attr("id")+'"]'),t=n.find(".expand-toggle i");e.addClass("show"),t.removeClass("fa-chevron-right").addClass("fa-chevron-down"),n.attr("aria-expanded","true"),n.find(".node-icon i").removeClass("fa-folder").addClass("fa-folder-open")}),console.log("Expanded all tree nodes"),d(".fluent-tree-container").trigger("fluent:tree:expanded")}function t(){d(".node-children").each(function(){var e=d(this),n=d('[data-bs-target="#'+e.attr("id")+'"]'),t=n.find(".expand-toggle i");e.removeClass("show"),t.removeClass("fa-chevron-down").addClass("fa-chevron-right"),n.attr("aria-expanded","false"),n.find(".node-icon i").removeClass("fa-folder-open").addClass("fa-folder")}),console.log("Collapsed all tree nodes"),d(".fluent-tree-container").trigger("fluent:tree:collapsed")}return{init:function(){console.log("Fluent Categories Tree initializing..."),d(document).ready(function(){0===d(".elegant-tree-container, .fluent-tree-container").length?console.log("Tree container not found - page may not have category tree"):(console.log("Initializing Fluent tree with",d(".tree-node, .elegant-node").length,"nodes"),d(document).off("click",'[data-toggle="expand"]').on("click",'[data-toggle="expand"]',function(e){e.preventDefault(),e.stopPropagation();var e=d(this),n=e.attr("data-target"),n=d(n),e=e.closest(".node-header"),t=e.find(".expand-btn i");n.length&&a(n,t,e)}),d(document).off("click",".action-btn").on("click",".action-btn",function(e){e.stopPropagation()}),d(document).off("click",".edit-btn").on("click",".edit-btn",function(e){e.stopPropagation()}),d(".node-children").addClass("fluent-collapse-transition"),d('[data-toggle="expand"]').addClass("fluent-interactive"),d(".action-btn").addClass("fluent-action")),d("#expandAllBtn").off("click").on("click",function(e){e.preventDefault(),n()}),d("#collapseAllBtn").off("click").on("click",function(e){e.preventDefault(),t()}),d(".tree-node").each(function(e){var n=d(this);setTimeout(function(){n.addClass("fluent-reveal")},50*e)}),d(".fluent-btn, .node-header, .action-btn").on("click",function(e){var n,t,a,o,l;n=d(this),e=e,t=d('<span class="fluent-ripple"></span>'),a=n[0].getBoundingClientRect(),o=Math.max(a.width,a.height),l=e.clientX-a.left-o/2,e=e.clientY-a.top-o/2,t.css({width:o+"px",height:o+"px",left:l+"px",top:e+"px"}),n.append(t),setTimeout(function(){t.remove()},600)})})},expandAll:n,collapseAll:t,toggleNode:a}});
//# sourceMappingURL=categories_accordion.min.js.map