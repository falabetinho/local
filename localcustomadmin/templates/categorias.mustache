<div class="local-customadmin-categories">
    <div class="mb-4">
        <p class="lead text-muted">{{page_description}}</p>
    </div>
    
    <!-- Add Category Button -->
    <div class="mb-4">
        <a href="{{add_category_url}}" class="btn btn-primary">
            <i class="fas fa-plus-circle me-2"></i>{{add_category_text}}
        </a>
    </div>
    
    {{#has_categories}}
    <!-- Categories Table -->
    <div class="card">
        <div class="card-header">
            <h5 class="card-title mb-0">
                <i class="fas fa-sitemap me-2"></i>Categorias de Cursos
            </h5>
        </div>
        <div class="card-body p-0">
            <div class="table-responsive">
                <table class="table table-hover mb-0">
                    <thead class="table-light">
                        <tr>
                            <th>ID</th>
                            <th>Nome da Categoria</th>
                            <th class="text-center">Cursos</th>
                            <th class="text-center">Subcategorias</th>
                            <th class="text-center">Ações</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{#categories}}
                        <tr>
                            <td>
                                <span class="badge bg-secondary">{{id}}</span>
                            </td>
                            <td>
                                <div>
                                    {{#is_root}}
                                    <strong>{{name}}</strong>
                                    {{/is_root}}
                                    {{^is_root}}
                                    <span class="text-muted small">{{full_path}}</span>
                                    {{/is_root}}
                                </div>
                                {{#description}}
                                <small class="text-muted d-block mt-1">{{description}}</small>
                                {{/description}}
                            </td>
                            <td class="text-center">
                                {{#courses_count}}
                                <span class="badge bg-info">{{courses_count}} cursos</span>
                                {{/courses_count}}
                                {{^courses_count}}
                                <span class="text-muted">0 cursos</span>
                                {{/courses_count}}
                            </td>
                            <td class="text-center">
                                {{#subcategories_count}}
                                <span class="badge bg-warning">{{subcategories_count}} subcategorias</span>
                                {{/subcategories_count}}
                                {{^subcategories_count}}
                                <span class="text-muted">0 subcategorias</span>
                                {{/subcategories_count}}
                            </td>
                            <td class="text-center">
                                <div class="btn-group btn-group-sm" role="group">
                                    {{#subcategories_count}}
                                    <button type="button" class="btn btn-outline-info" title="Exibir Subcategorias" disabled>
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    {{/subcategories_count}}
                                    <a href="{{edit_url}}" class="btn btn-outline-primary btn-sm" 
                                       title="Editar Categoria">
                                        <i class="fas fa-edit"></i>
                                    </a>
                                </div>
                            </td>
                        </tr>
                        {{/categories}}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    {{/has_categories}}
    
    {{^has_categories}}
    <div class="alert alert-info text-center">
        <i class="fas fa-info-circle me-2"></i>
        Nenhuma categoria de curso foi encontrada. 
        <a href="{{add_category_url}}" class="alert-link">Criar primeira categoria</a>
    </div>
    {{/has_categories}}
    
    <!-- Back to Courses Button -->
    <div class="mt-4">
        <a href="{{back_to_courses_url}}" class="btn btn-secondary">
            <i class="fas fa-arrow-left me-2"></i>{{back_to_courses_text}}
        </a>
    </div>
</div>

